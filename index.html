<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CityVibes - Inicio</title>
    <link rel="stylesheet" href="style/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Cabecera -->
        <div class="header responsive-header">
            <div class="avatar-container">
                <a href="profile.html" class="avatar responsive-avatar" id="avatarBtn">
                    <img src="/api/placeholder/40/40" alt="Avatar" id="userAvatar">
                </a>
                <!-- Men√∫ desplegable del avatar -->
                <div class="avatar-menu" id="avatarMenu">
                    <div class="avatar-menu-header">
                        <img src="/api/placeholder/40/40" alt="Avatar" id="menuUserAvatar">
                        <div class="user-info">
                            <span class="Tittle" id="userName">CityVibe</span>
                        </div>
                    </div>
                    <div class="avatar-menu-items">
                        <a href="profile.html" class="avatar-menu-item">
                            <span class="icon">üë§</span>
                            Mi Perfil
                        </a>
                        <a href="settings.html" class="avatar-menu-item">
                            <span class="icon">‚öôÔ∏è</span>
                            Configuraci√≥n
                        </a>
                        <div class="menu-divider"></div>
                        <a href="#" class="avatar-menu-item logout" id="logoutBtn">
                            <span class="icon">üö™</span>
                            Cerrar Sesi√≥n
                        </a>
                    </div>
                </div>
            </div>
            <h1 class="responsive-title" id="welcomeMessage">Bienvenido a City Vibe</h1>
        </div>
        
        <!-- Men√∫ principal con accesos directos -->
        <div class="main-menu" id="categoriesMenu">
            <a href="#" class="menu-item" data-category="restaurants">
                <div class="menu-icon">üçΩÔ∏è</div>
                <span class="menu-text">Restaurantes</span>
            </a>
            <a href="#" class="menu-item" data-category="clubs">
                <div class="menu-icon">üéµ</div>
                <span class="menu-text">Antros</span>
            </a>
            <a href="#" class="menu-item" data-category="bars">
                <div class="menu-icon">üç∏</div>
                <span class="menu-text">Bares</span>
            </a>
            <a href="#" class="menu-item" data-category="cafes">
                <div class="menu-icon">‚òï</div>
                <span class="menu-text">Cafeter√≠as</span>
            </a>
            <a href="#" class="menu-item" data-category="all">
                <div class="menu-icon">üè†</div>
                <span class="menu-text">Todos</span>
            </a>
        </div>

        <!-- Men√∫ de otras categor√≠as -->
        <div class="other-categories">
            <button class="more-categories-btn" id="moreCategoriesBtn">
                Ver m√°s categor√≠as
            </button>
        </div>

        <!-- Modal de categor√≠as adicionales -->
        <div class="modal" id="categoriesModal">
            <div class="modal-content">
                <h2>Otras Categor√≠as</h2>
                <div class="categories-grid" id="extraCategories">
                    <!-- Se llenar√° din√°micamente -->
                    <div class="loading-indicator">Cargando categor√≠as...</div>
                </div>
                <div class="modal-actions">
                    <button class="close-btn" id="closeCategoriesBtn">Cerrar</button>
                </div>
            </div>
        </div>

        <!-- Contenedor para categor√≠a activa y resultados -->
        <div class="content responsive-content">
            <!-- Indicador de categor√≠a activa -->
            <div id="activeCategory" class="active-category" style="display: none;">
                <span class="category-label"></span>
                <button class="clear-category">‚úï</button>
            </div>

            <div id="categoryResults" class="place-list responsive-list">
                <!-- Contenido inicial -->
                <div class="initial-message">
                    Selecciona una categor√≠a para ver lugares
                </div>
                <!-- Indicador de carga -->
                <div class="loading-indicator" style="display: none;">
                    Cargando...
                </div>
            </div>
        </div>
        
        <!-- Navegaci√≥n inferior -->
        <nav class="bottom-nav responsive-nav">
            <a href="index.html" class="nav-item active">
                <div class="nav-icon">üè†</div>
                <span class="nav-text">Home</span>
            </a>
            <a href="mapa.html" class="nav-item">
                <div class="nav-icon">üó∫Ô∏è</div>
                <span class="nav-text">Mapa</span>
            </a>
            <a href="resenas.html" class="nav-item">
                <div class="nav-icon">‚≠ê</div>
                <span class="nav-text">Rese√±as</span>
            </a>
        </nav>

        <!-- Modal para agregar lugar -->
        <div class="modal" id="addPlaceModal">
            <div class="modal-content">
                <h2>Agregar Nuevo Lugar</h2>
                <form id="addPlaceForm">
                    <div class="form-group">
                        <label for="placeName">Nombre del lugar</label>
                        <input type="text" id="placeName" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="placeCategory">Categor√≠a</label>
                        <select id="placeCategory" name="category" required>
                            <option value="">Seleccionar categor√≠a</option>
                            <!-- Se llenar√° din√°micamente -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="placeAddress">Direcci√≥n</label>
                        <input type="text" id="placeAddress" name="address" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="placeDescription">Descripci√≥n</label>
                        <textarea id="placeDescription" name="description" rows="3" required></textarea>
                    </div>

                    <div class="form-group">
                        <label>Caracter√≠sticas</label>
                        <div class="features-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" name="features" value="parking">
                                Estacionamiento
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="features" value="wifi">
                                WiFi
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="features" value="accessible">
                                Accesible
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" name="features" value="outdoor">
                                √Årea exterior
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="cancel-btn" id="cancelAddPlace">Cancelar</button>
                        <button type="submit" class="submit-btn">Agregar lugar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Agregar bot√≥n flotante para nuevo lugar -->
    <button class="floating-btn" id="addPlaceBtn">
        <span class="icon">‚ûï</span>
    </button>
    <script src="js/sessionCheck.js"></script>
    <script>
        // ...existing code...

// Modal functionality for adding new places
const addPlaceBtn = document.getElementById('addPlaceBtn');
const addPlaceModal = document.getElementById('addPlaceModal');
const cancelAddPlaceBtn = document.getElementById('cancelAddPlace');
const addPlaceForm = document.getElementById('addPlaceForm');
const placeCategorySelect = document.getElementById('placeCategory');

// Populate categories in the select element
const categories = [
    { id: 'restaurants', name: 'Restaurantes' },
    { id: 'clubs', name: 'Antros' },
    { id: 'bars', name: 'Bares' },
    { id: 'cafes', name: 'Cafeter√≠as' }
];

// Fill categories in select
categories.forEach(category => {
    const option = document.createElement('option');
    option.value = category.id;
    option.textContent = category.name;
    placeCategorySelect.appendChild(option);
});

// Show modal when clicking the add button
addPlaceBtn.addEventListener('click', () => {
    addPlaceModal.style.display = 'block';
});

// Hide modal when clicking cancel
cancelAddPlaceBtn.addEventListener('click', () => {
    addPlaceModal.style.display = 'none';
    addPlaceForm.reset();
});

// Close modal when clicking outside
window.addEventListener('click', (e) => {
    if (e.target === addPlaceModal) {
        addPlaceModal.style.display = 'none';
        addPlaceForm.reset();
    }
});

// Handle form submission
addPlaceForm.addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = new FormData(addPlaceForm);
    const placeData = {
        name: formData.get('name'),
        category: formData.get('category'),
        address: formData.get('address'),
        description: formData.get('description'),
        features: formData.getAll('features')
    };

    try {
        // Here you would typically send the data to your backend
        // For now, we'll just log it and close the modal
        console.log('Place data:', placeData);
        
        // Clear form and close modal
        addPlaceForm.reset();
        addPlaceModal.style.display = 'none';
        
        // Show success message (you can customize this)
        alert('Lugar agregado exitosamente!');
        
    } catch (error) {
        console.error('Error adding place:', error);
        alert('Error al agregar el lugar. Por favor intenta de nuevo.');
    }
});
    </script>
    <script src="js/indexjs.js"></script>
</body>
</html>
