<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CityVibes - Configuraci√≥n</title>
    <link rel="stylesheet" href="style/settings.css">
</head>
<body>
    <div class="app-container">
        <div class="header responsive-header">
            <a href="profile.html" class="back-button">
                <span class="icon">‚Üê</span>
            </a>
            <h1 class="responsive-title">Configuraci√≥n</h1>
        </div>

        <div class="content responsive-content">
            <div class="user-info">
                <h3>Informaci√≥n de Usuario</h3>
                <p><strong>Nombre de Usuario:</strong> <span id="userUsername">Cargando...</span></p>
                <p><strong>Correo Electr√≥nico:</strong> <span id="userEmail">Cargando...</span></p>
            </div>

            <div class="settings-sections">
                <!-- Informaci√≥n Personal -->
                <div class="settings-section">
                    <h3>Informaci√≥n Personal</h3>
                    <form id="personalInfoForm" class="settings-form">
                        <div class="form-group">
                            <label for="settingsUsername">Nombre de Usuario</label>
                            <input 
                                type="text" 
                                id="settingsUsername" 
                                name="username" 
                                required
                                pattern="[a-zA-Z0-9_]{3,15}"
                                title="3-15 caracteres, solo letras, n√∫meros y guiones bajos"
                            >
                        </div>

                        <div class="form-group">
                            <label for="settingsEmail">Correo Electr√≥nico</label>
                            <input 
                                type="email" 
                                id="settingsEmail" 
                                name="email"
                                required
                            >
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="settings-button">Guardar Cambios</button>
                        </div>
                    </form>
                </div>

                <!-- Cambio de Contrase√±a -->
                <div class="settings-section">
                    <h3>Cambiar Contrase√±a</h3>
                    <form id="passwordChangeForm" class="settings-form">
                        <div class="form-group">
                            <label for="currentPassword">Contrase√±a Actual</label>
                            <div class="password-input">
                                <input 
                                    type="password" 
                                    id="currentPassword" 
                                    name="currentPassword"
                                    minlength="8"
                                    required
                                >
                                <button type="button" class="toggle-password">üëÅÔ∏è</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="newPassword">Nueva Contrase√±a</label>
                            <div class="password-input">
                                <input 
                                    type="password" 
                                    id="newPassword" 
                                    name="newPassword"
                                    minlength="8"
                                    required
                                >
                                <button type="button" class="toggle-password">üëÅÔ∏è</button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmNewPassword">Confirmar Nueva Contrase√±a</label>
                            <div class="password-input">
                                <input 
                                    type="password" 
                                    id="confirmNewPassword" 
                                    name="confirmNewPassword"
                                    minlength="8"
                                    required
                                >
                                <button type="button" class="toggle-password">üëÅÔ∏è</button>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="settings-button">Cambiar Contrase√±a</button>
                        </div>
                    </form>
                </div>

                <!-- Zona de Peligro -->
                <div class="settings-section danger-zone">
                    <h3>Zona de Peligro</h3>
                    <div class="danger-actions">
                        <button type="button" class="warning-btn" id="logoutBtn">
                            Cerrar Sesi√≥n
                        </button>
                        <button type="button" class="danger-btn" id="deleteAccountBtn">
                            Eliminar Cuenta
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Incluir scripts -->
    <script src="js/settingsService.js"></script>
    <script src="js/sessionCheck.js"></script>
    <script src="js/logout.js"></script>
</body>
</html>
